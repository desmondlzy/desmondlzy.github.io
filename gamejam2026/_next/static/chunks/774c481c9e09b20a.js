(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(86143),l=e.i(22828),r=e.i(36299),a=e.i(54053);function s(e,t){return Array.from({length:t},()=>Array(e).fill(0))}function i(e,t){let l=new Set,r=[],a=e.length,i=e[0].length,o=[{r:-1,c:0},{r:1,c:0},{r:0,c:-1},{r:0,c:1}];for(let n=0;n<a;n++)for(let d=0;d<i;d++)if(0!==e[n][d]&&!l.has(`${n},${d}`)){let c={minR:n,maxR:n,minC:d,maxC:d,points:[]},p=[{x:d,y:n}];for(l.add(`${n},${d}`),c.points.push({x:d,y:n});p.length>0;){let t=p.shift();for(let r of o){let s=t.y+r.r,o=t.x+r.c;s>=0&&s<a&&o>=0&&o<i&&0!==e[s][o]&&!l.has(`${s},${o}`)&&(l.add(`${s},${o}`),p.push({x:o,y:s}),c.points.push({x:o,y:s}),s<c.minR&&(c.minR=s),s>c.maxR&&(c.maxR=s),o<c.minC&&(c.minC=o),o>c.maxC&&(c.maxC=o))}}let x=c.maxR-c.minR+1,h=s(c.maxC-c.minC+1,x);for(let e of c.points)h[e.y-c.minR][e.x-c.minC]=1;r.push({shape:h,position:{x:t.x+c.minC,y:t.y+c.minR}})}return r}function o(e,t){let l=e.position.x+e.shape[0].length,r=e.position.y+e.shape.length,a=t.position.x+t.shape[0].length,s=t.position.y+t.shape.length;if(e.position.x>=a||t.position.x>=l||e.position.y>=s||t.position.y>=r)return!1;let i=Math.max(e.position.x,t.position.x),o=Math.min(l,a),d=Math.max(e.position.y,t.position.y),c=Math.min(r,s);for(let l=d;l<c;l++)for(let r=i;r<o;r++){let a=n(e,r,l),s=n(t,r,l);if(a&&s)return!0}return!1}function n(e,t,l){let r=t-e.position.x,a=l-e.position.y;return!(r<0)&&!(a<0)&&!(a>=e.shape.length)&&!(r>=e.shape[0].length)&&1===e.shape[a][r]}function d(e,t,l,r,a){for(let s=0;s<t.shape.length;s++)for(let i=0;i<t.shape[s].length;i++)if(t.shape[s][i]){let o=t.position.x+i-l,n=t.position.y+s-r;o>=0&&o<e[0].length&&n>=0&&n<e.length&&("SET"===a?e[n][o]=1:"OR"===a?e[n][o]|=1:"XOR"===a?e[n][o]^=1:"ZERO"===a&&(e[n][o]=0))}}function c(e,t,l){let r=e.find(e=>e.id===l);if(!r||!r.symbols)return[];let a=[];for(let e=0;e<r.height;e++)for(let l=0;l<r.width;l++){let s=r.x+l,i=r.y+e,o=!1;for(let e of t)if(s>=e.position.x&&s<e.position.x+e.shape[0].length&&i>=e.position.y&&i<e.position.y+e.shape.length&&1===e.shape[i-e.position.y][s-e.position.x]){o=!0;break}if(!o){let t=r.symbols[e][l];t&&""!==t.trim()&&a.push({symbol:t,x:s,y:i})}}return a}function p(e,t,l){return c(e,t,l).map(e=>e.symbol)}function x(e,t){let l=e.find(e=>e.id===t);if(!l||!l.symbols)return[];let r=[];for(let e=0;e<l.height;e++)for(let t=0;t<l.width;t++){let a=l.symbols[e][t];a&&""!==a.trim()&&r.push({symbol:a,x:l.x+t,y:l.y+e})}return r}function h(e,t,l){let r=new Set(p(e,t,"allowed-region")),a=new Set(p(e,t,"disallowed-region")),s=x(e,"main-region"),i=new Set,o=[];for(let e of s){let l=!1;for(let r of t)if(e.x>=r.position.x&&e.x<r.position.x+r.shape[0].length&&e.y>=r.position.y&&e.y<r.position.y+r.shape.length&&1===r.shape[e.y-r.position.y][e.x-r.position.x]){l=!0;break}!l&&a.has(e.symbol)&&(i.add(e.symbol),o.push({x:e.x,y:e.y}))}let n=m(e,t,"allowed-region",r,!0),d=m(e,t,"disallowed-region",a,!1),c=function(e,t){let l=x(e,"main-region"),r=x(e,"allowed-region"),a=new Map;for(let e of r)a.set(e.symbol,(a.get(e.symbol)||0)+1);let s=new Map;for(let e of l){let l=!1;for(let r of t)if(e.x>=r.position.x&&e.x<r.position.x+r.shape[0].length&&e.y>=r.position.y&&e.y<r.position.y+r.shape.length&&1===r.shape[e.y-r.position.y][e.x-r.position.x]){l=!0;break}l&&s.set(e.symbol,(s.get(e.symbol)||0)+1)}let i=0;for(let e of new Set([...a.keys(),...s.keys()]))i+=(s.get(e)||0)*(a.get(e)||0);return i}(e,t),h=void 0!==l&&l>0&&c>l;return console.log("Covered Allowed Score:",c,"Limit:",l,"Exceeded:",h),{isWin:0===o.length&&!h,violations:Array.from(i),violatingCells:o,allowedStats:n,disallowedStats:d,coveredAllowedScore:c,coveredAllowedLimit:l,exceededLimit:h}}function m(e,t,l,r,a){let s=x(e,l),i=new Map;for(let e of s)i.set(e.symbol,(i.get(e.symbol)||0)+1);let o=x(e,"main-region"),n=c(e,t,"main-region"),d=[];for(let e of r){let t=o.filter(t=>t.symbol===e).length,l=n.filter(t=>t.symbol===e).length,r=t-l,s=a?r:l,c=i.get(e)||0;d.push({emoji:e,countInMain:s,totalInRegion:c})}return d.sort((e,t)=>e.emoji.localeCompare(t.emoji))}var g=e.i(63948),f=e.i(67784);let b=(0,f.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var u=e.i(55995);let y=({isOpen:e,score:l,hasNextLevel:r,onNextLevel:a,onReplay:s,onBackToLevels:i,onClose:o})=>e?(0,t.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative z-10 bg-[var(--panel-bg)] border-8 border-[var(--panel-border)] shadow-[12px_12px_0_0_rgba(0,0,0,1)] p-8 max-w-md",children:[(0,t.jsx)("button",{onClick:o,className:"absolute -top-4 -right-4 p-2 bg-red-500 hover:bg-red-600 border-4 border-red-700 shadow-[4px_4px_0_0_rgba(0,0,0,0.3)] transition-colors","aria-label":"Close",children:(0,t.jsx)(u.X,{size:20,className:"text-white",strokeWidth:3})}),(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-yellow-400 border-4 border-yellow-600 p-4 shadow-[4px_4px_0_0_rgba(0,0,0,0.3)]",children:(0,t.jsx)(b,{size:48,className:"text-yellow-800"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-[var(--panel-text)] uppercase",style:{fontFamily:"var(--font-pixel)"},children:"Level Complete!"}),(0,t.jsxs)("div",{className:"bg-green-100 border-4 border-green-600 p-4 mb-6 text-center",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-green-800 mb-2 font-bold",children:"Final Score"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-green-800",children:l})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[r?(0,t.jsx)("button",{onClick:a,className:"flex items-center justify-center gap-2 px-6 py-4 bg-blue-600 text-white hover:bg-blue-700 border-b-4 border-blue-800 active:border-b-0 active:translate-y-1 font-bold text-sm uppercase shadow-md transition-all",children:"Next Level"}):(0,t.jsx)("div",{className:"px-6 py-4 bg-yellow-100 border-4 border-yellow-500 text-center",children:(0,t.jsx)("p",{className:"text-xs font-bold text-yellow-800 uppercase",children:"ðŸŽ‰ All Levels Complete! ðŸŽ‰"})}),(0,t.jsx)("button",{onClick:s,className:"flex items-center justify-center gap-2 px-6 py-4 bg-gray-200 text-gray-900 hover:bg-gray-300 border-b-4 border-gray-400 active:border-b-0 active:translate-y-1 font-bold text-sm uppercase shadow-md transition-all",children:"Replay Level"}),(0,t.jsx)("button",{onClick:i,className:"flex items-center justify-center gap-2 px-6 py-4 bg-gray-800 text-white hover:bg-gray-700 border-b-4 border-black active:border-b-0 active:translate-y-1 font-bold text-sm uppercase shadow-md transition-all",children:"Back to Levels"})]})]})]}):null,v=(0,f.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),w=(0,f.default)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var j=e.i(98952);let N=(0,f.default)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),S=(0,f.default)("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),L=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),k=(0,f.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),E=({level:e,onNextLevel:r,onReplay:n,onBackToLevels:c,onLevelComplete:p,hasNextLevel:m,highScore:f})=>{let u,E,M=(0,l.useRef)(null),[_,C]=(0,l.useState)(window.innerWidth);(0,l.useEffect)(()=>{let e=()=>C(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let A=(0,l.useMemo)(()=>Math.max(10,Math.min(40,Math.floor((_-32)/e.width))),[_,e.width]),[R,z]=(0,l.useState)(eg(e.initialPieces)),[I,O]=(0,l.useState)([]),[$,D]=(0,l.useState)(0),[T,P]=(0,l.useState)(null),[W,F]=(0,l.useState)(!1),[B,V]=(0,l.useState)({isWin:!1,violations:[],violatingCells:[],allowedStats:[],disallowedStats:[],coveredAllowedScore:0,coveredAllowedLimit:e.coveredAllowedSymbolLimit,exceededLimit:!1}),{regions:U,symbolMap:K,gridCells:H}=function(e){let{grid:t,mainSymbols:l,allowedSymbols:r,disallowedSymbols:a,width:s,height:i}=e,o=t.map(e=>e.split("")),n=new Map,d=new Map,c=[...l.replace(/[\n\r]/g,"")],p=[...r.replace(/[\n\r]/g,"")],x=[...a.replace(/[\n\r]/g,"")],h=0,m=0,g=0;for(let e=0;e<i;e++)for(let t=0;t<s;t++){let l=o[e]?.[t]||".";if("M"===l){let l=c[h]||"";n.set(`${t},${e}`,l),h++,d.has("MAIN")||d.set("MAIN",{cells:[],type:"MAIN"}),d.get("MAIN").cells.push({x:t,y:e})}else if("A"===l||"a"===l){let l=p[m]||"";n.set(`${t},${e}`,l),m++,d.has("ALLOWED")||d.set("ALLOWED",{cells:[],type:"ALLOWED"}),d.get("ALLOWED").cells.push({x:t,y:e})}else if("D"===l||"d"===l){let l=x[g]||"";n.set(`${t},${e}`,l),g++,d.has("DISALLOWED")||d.set("DISALLOWED",{cells:[],type:"DISALLOWED"}),d.get("DISALLOWED").cells.push({x:t,y:e})}else"I"===l&&(d.has("INVENTORY")||d.set("INVENTORY",{cells:[],type:"INVENTORY"}),d.get("INVENTORY").cells.push({x:t,y:e}))}let f=[];return d.forEach((e,t)=>{let l;if(0===e.cells.length)return;let r=e.cells.map(e=>e.x),a=e.cells.map(e=>e.y),s=Math.min(...r),i=Math.min(...a),o=Math.max(...r)-s+1,d=Math.max(...a)-i+1;("MAIN"===e.type||"ALLOWED"===e.type||"DISALLOWED"===e.type)&&(l=Array.from({length:d},()=>Array(o).fill("")),e.cells.forEach(({x:e,y:t})=>{let r=e-s;l[t-i][r]=n.get(`${e},${t}`)||""})),f.push({id:`${e.type.toLowerCase()}-region`,type:e.type,x:s,y:i,width:o,height:d,symbols:l})}),{regions:f,symbolMap:n,gridCells:o}}(e);(0,l.useEffect)(()=>{if(B.isWin&&null===T){let e=100-B.coveredAllowedScore;P(e),F(!0),p&&p(e)}},[B.isWin,B.coveredAllowedScore,T,U,p]);let[Y,q]=(0,l.useState)(null),[X,J]=(0,l.useState)(null),[Z,G]=(0,l.useState)(0),[Q,ee]=(0,l.useState)(!1),[et,el]=(0,l.useState)({x:0,y:0}),[er,ea]=(0,l.useState)({x:0,y:0}),[es,ei]=(0,l.useState)(!1),[eo,en]=(0,l.useState)(null),[ed,ec]=(0,l.useState)(null),[ep,ex]=(0,l.useState)(0),eh=(0,l.useRef)(null),em=(0,l.useRef)(null);function eg(e){return e.map(e=>({...e,id:e.id||crypto.randomUUID()}))}let ef=(0,l.useCallback)(()=>{if(!X)return null;let e=X;Q&&(e=e.map(e=>[...e].reverse()));let t=(Z%360+360)%360,l=t/90;for(let t=0;t<l;t++)e=function(e){if(0===e.length)return[];let t=e.length,l=e[0].length,r=Array.from({length:l},()=>Array(t).fill(0));for(let a=0;a<t;a++)for(let s=0;s<l;s++)r[s][t-1-a]=e[a][s];return r}(e);let r=0,a=0;if(90===t||270===t){let e=X[0].length,t=X.length;r=(e-t)/2*A,a=(t-e)/2*A}return{finalShape:e,gridX:Math.round((er.x+r)/A),gridY:Math.round((er.y+a)/A)}},[X,Z,Q,er.x,er.y]);(0,l.useEffect)(()=>{let e=e=>{if("KeyZ"===e.code){e.preventDefault(),eb();return}if("KeyC"==e.code){e.preventDefault(),eu();return}Y&&X&&("KeyR"===e.code?(e.preventDefault(),G(e=>e+90)):"KeyF"===e.code&&(e.preventDefault(),ee(e=>!e)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Y,X,I]);let eb=()=>{if(0===I.length)return;q(null),J(null),G(0),ee(!1);let t=[...I],l=t.pop();O(t),l&&(z(l),V(h(U,l,e.coveredAllowedSymbolLimit)),D(e=>e+1))},eu=()=>{if(confirm("Reset Level?")){let t=eg(e.initialPieces);z(t),O([]),V(h(U,t,e.coveredAllowedSymbolLimit)),D(e=>e+1),P(null),F(!1)}};(0,l.useEffect)(()=>{V(h(U,R,e.coveredAllowedSymbolLimit))},[]),(0,l.useEffect)(()=>{if(!eo||!ed)return void ex(0);let e=setInterval(()=>{let e=Math.min((Date.now()-ed)/1e3,1);ex(e),e>=1&&("rotate"===eo?G(e=>e+90):"flip"===eo&&ee(e=>!e),en(null),ec(null),ex(0))},16);return()=>clearInterval(e)},[eo,ed]);let[ey,ev]=(0,l.useState)([]),ew=(0,l.useRef)([]);return(0,l.useEffect)(()=>{let e=ew.current,t=B.violatingCells,l=e.filter(e=>!t.some(t=>t.x===e.x&&t.y===e.y));if(l.length>0){let e=l.map(e=>({...e,id:Math.random().toString(36).substr(2,9)}));ev(t=>[...t,...e]),setTimeout(()=>{ev(t=>t.filter(t=>!e.some(e=>e.id===t.id)))},1e3)}ew.current=t},[B.violatingCells]),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 p-2 select-none relative",children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                @keyframes pulsate-red {
                    0% { border-color: rgba(239, 68, 68, 0.3); box-shadow: inset 0 0 2px rgba(239, 68, 68, 0.1); }
                    50% { border-color: rgba(239, 68, 68, 0.7); box-shadow: inset 0 0 8px rgba(239, 68, 68, 0.3); }
                    100% { border-color: rgba(239, 68, 68, 0.3); box-shadow: inset 0 0 2px rgba(239, 68, 68, 0.1); }
                }
                @keyframes pulsate-blue {
                    0% { border-color: rgba(24, 216, 241, 0.8); box-shadow: inset 0 0 4px rgba(24, 216, 241, 0.2), 0 0 4px rgba(24, 216, 241, 0.2); }
                    50% { border-color: rgba(24, 216, 241, 1); box-shadow: inset 0 0 16px rgba(24, 216, 241, 0.4), 0 0 12px rgba(24, 216, 241, 0.6); }
                    100% { border-color: rgba(24, 216, 241, 0.8); box-shadow: inset 0 0 4px rgba(24, 216, 241, 0.2), 0 0 4px rgba(24, 216, 241, 0.2); }
                }
                @keyframes ripple-red {
                    0% { transform: scale(1); opacity: 0.8; }
                    100% { transform: scale(12); opacity: 0; }
                }
                @keyframes ripple-blue {
                    0% { transform: scale(1); opacity: 0.8; }
                    100% { transform: scale(12); opacity: 0; }
                }
                @keyframes ripple-green {
                    0% { transform: scale(1); opacity: 0.8; }
                    100% { transform: scale(12); opacity: 0; }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `}}),(0,t.jsxs)("div",{className:`fixed top-4 p-4 border-4 shadow-[4px_4px_0_0_rgba(0,0,0,0.2)] transition-all duration-300 z-70 ${B.isWin?"bg-green-100 border-green-600":"bg-[var(--panel-bg)] border-[var(--panel-border)]"} ${es?"right-4":"-right-full"} md:right-4`,children:[(0,t.jsx)("button",{onClick:()=>ei(!es),className:`md:hidden border-4 border-r-0 p-2 z-75 shadow-[4px_4px_0_0_rgba(0,0,0,0.2)] transition-all duration-300 ${B.isWin?"bg-green-100 border-green-600":"bg-[var(--panel-bg)] border-[var(--panel-border)]"} ${es?"absolute left-0 top-0 -translate-x-full":"fixed right-0 top-4"}`,"aria-label":es?"Hide status panel":"Show status panel",children:es?(0,t.jsx)(L,{size:20}):(0,t.jsx)(k,{size:20})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[B.isWin?(0,t.jsx)(b,{className:"text-green-600",size:24}):(0,t.jsx)(j.AlertTriangle,{className:"text-amber-500",size:24}),(0,t.jsx)("h3",{className:`font-bold text-sm ${B.isWin?"text-green-800":"text-[var(--panel-text)]"}`,style:{textTransform:"uppercase"},children:B.isWin?"Level Cleared!":"Status"})]}),B.allowedStats.length>0&&(0,t.jsxs)("div",{className:"text-xs mb-3",children:[(0,t.jsx)("p",{className:"font-bold mb-1 text-green-700",children:"COVERED ALLOWED:"}),(0,t.jsx)("div",{className:"flex flex-col gap-1",children:B.allowedStats.map(e=>(0,t.jsxs)("div",{className:"px-2 py-1 bg-green-50 border-2 border-green-300 font-bold flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-base font-emoji",children:e.emoji}),(0,t.jsxs)("span",{className:"text-gray-600",children:[e.countInMain," Ã— ",e.totalInRegion]})]},e.emoji))}),void 0!==B.coveredAllowedLimit&&(0,t.jsx)("div",{className:`mt-2 px-2 py-1 border-2 font-bold ${B.exceededLimit?"bg-red-50 border-red-500 text-red-700":"bg-green-50 border-green-300 text-green-700"}`,children:(0,t.jsxs)("span",{className:"text-xs",children:["TOTAL: ",B.coveredAllowedScore," / ",B.coveredAllowedLimit]})}),(0,t.jsx)("div",{className:"mt-2 px-2 py-1 bg-blue-50 border-2 border-blue-300 font-bold text-blue-700",children:(0,t.jsxs)("span",{className:"text-xs",children:["CURRENT SCORE: ",100-B.coveredAllowedScore]})}),void 0!==f&&f>0&&(0,t.jsx)("div",{className:"mt-2 px-2 py-1 bg-yellow-50 border-2 border-yellow-300 font-bold text-yellow-700",children:(0,t.jsxs)("span",{className:"text-xs",children:["PERSONAL BEST: ",f]})})]}),B.disallowedStats.length>0&&(0,t.jsxs)("div",{className:"text-xs mb-3",children:[(0,t.jsx)("p",{className:"font-bold mb-1 text-red-700",children:"DISALLOWED:"}),(0,t.jsx)("div",{className:"flex flex-col gap-1",children:B.disallowedStats.map(e=>(0,t.jsxs)("div",{className:"px-2 py-1 bg-red-50 border-2 border-red-300 font-bold flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-base font-emoji",children:e.emoji}),(0,t.jsx)("span",{className:"text-gray-600",children:e.countInMain})]},e.emoji))})]})]}),(0,t.jsxs)("div",{className:"fixed bottom-4 left-4 md:left-1/2 md:-translate-x-1/2 z-40 flex gap-2",children:[(0,t.jsxs)("button",{onClick:eb,disabled:0===I.length,className:"flex items-center gap-2 px-4 py-3 bg-gray-800 text-white hover:bg-gray-700 disabled:opacity-50 border-b-4 border-gray-950 active:border-b-0 active:translate-y-1 font-bold text-xs uppercase shadow-md transition-all",children:[(0,t.jsx)(w,{size:16}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Undo"})]}),(0,t.jsxs)("button",{onClick:eu,className:"flex items-center gap-2 px-4 py-3 bg-gray-200 text-gray-900 hover:bg-gray-300 border-b-4 border-gray-400 active:border-b-0 active:translate-y-1 font-bold text-xs uppercase shadow-md transition-all",children:[(0,t.jsx)(v,{size:16}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Reset"})]})]}),(0,t.jsx)("div",{className:"max-w-full",children:(0,t.jsxs)("div",{ref:M,className:"relative bg-[var(--panel-bg)] shadow-[8px_8px_0_0_rgba(0,0,0,0.2)] border-4 border-[var(--panel-border)] mx-auto",style:{width:e.width*A,height:e.height*A,boxSizing:"content-box",touchAction:"none",overflow:"visible"},onPointerMove:e=>{if(!Y||!M.current)return;e.preventDefault();let t=M.current.getBoundingClientRect(),l=e.clientX-t.left,r=e.clientY-t.top;ea({x:l-et.x,y:r-et.y});let a=e.clientX,s=e.clientY,i=null;if(eh.current){let e=eh.current.getBoundingClientRect();a>=e.left&&a<=e.right&&s>=e.top&&s<=e.bottom&&(i="rotate")}if(!i&&em.current){let e=em.current.getBoundingClientRect();a>=e.left&&a<=e.right&&s>=e.top&&s<=e.bottom&&(i="flip")}i!==eo&&(en(i),ec(i?Date.now():null),ex(0))},onPointerUp:t=>{if(!Y)return;t.preventDefault();let l=R.find(e=>e.id===Y);if(!l||!X){q(null),J(null);return}let r=ef();if(!r)return;let{finalShape:n,gridX:c,gridY:p}=r,x={...l,position:{x:c,y:p},shape:n},m=[...R];if(c<0||p<0||c+x.shape[0].length>e.width||p+x.shape.length>e.height){q(null),J(null),G(0),ee(!1);return}let g=function(e,t,l){let r,n=t.type;if(l){for(let e=0;e<t.shape.length;e++)for(let r=0;r<t.shape[e].length;r++)if(1===t.shape[e][r]){let a=t.position.x+r,s=t.position.y+e;if(s>=0&&s<l.length&&a>=0&&a<l[s].length){let e=l[s][a];if("#"===e||"a"===e||"d"===e)return{success:!1,reason:"BLOCKED_CELL"}}}}if(e.filter(e=>(e.type===a.PieceType.BLOCKER||n===a.PieceType.BLOCKER)&&o(e,t)).length>0)return{success:!1,reason:"BLOCKER"};if(n===a.PieceType.XOR)return function(e,t){let l=e.filter(e=>e.type!==a.PieceType.BLOCKER&&o(e,t));if(0===l.length)return{success:!0,newPieces:[...e,t]};let r=new Set(l.map(e=>e.id)),n=e.filter(e=>!r.has(e.id)),c=[];for(let e of l){let l=Math.min(t.position.x,e.position.x),r=Math.min(t.position.y,e.position.y),a=Math.max(t.position.x+t.shape[0].length,e.position.x+e.shape[0].length),o=Math.max(t.position.y+t.shape.length,e.position.y+e.shape.length),n=a-l,p=o-r,x=s(n,p);d(x,e,l,r,"SET"),d(x,t,l,r,"ZERO");let h=s(n,p);for(let a of(d(h,t,l,r,"SET"),d(h,e,l,r,"ZERO"),[...i(x,{x:l,y:r,width:n,height:p}),...i(h,{x:l,y:r,width:n,height:p})]))c.push({id:crypto.randomUUID(),type:e.type,position:a.position,shape:a.shape,color:e.color})}return{success:!0,newPieces:[...n,...c]}}(e,t);let c=function(e,t){let l=[],r=[e],a=new Set([e.id]);for(;r.length>0;){let e=r.shift();for(let s of t)!a.has(s.id)&&o(e,s)&&(a.add(s.id),l.push(s),r.push(s))}return l}(t,e.filter(e=>e.type!==a.PieceType.BLOCKER)),p=new Set(c.map(e=>e.id)),x=c.length>0?c[0].type:n,h=c.length>0?c[0].color:t.color,m=e.filter(e=>!p.has(e.id)),g=1/0,f=1/0,b=-1/0,u=-1/0,y=[...c,t];for(let e of y)g=Math.min(g,e.position.x),f=Math.min(f,e.position.y),b=Math.max(b,e.position.x+e.shape[0].length),u=Math.max(u,e.position.y+e.shape.length);let v=b-g,w=u-f;if(t.type===a.PieceType.INTERSECT){let e=s(v,w);d(e,y[0],g,f,"SET");for(let t=1;t<y.length;t++){let l=s(v,w);d(l,y[t],g,f,"SET");for(let t=0;t<w;t++)for(let r=0;r<v;r++)e[t][r]&=l[t][r]}let t=!0;e:for(let l=0;l<w;l++)for(let r=0;r<v;r++)if(1===e[l][r]){t=!1;break e}if(t)for(let e of(r=s(v,w),y))d(r,e,g,f,"OR");else r=e}else for(let e of(r=s(v,w),y))d(r,e,g,f,"OR");let j=i(r,{x:g,y:f,width:v,height:w});return{success:!0,newPieces:[...m,...j.map((e,l)=>({id:0===l&&1===j.length?t.id:crypto.randomUUID(),type:x,position:e.position,shape:e.shape,color:h}))]}}(R.filter(e=>e.id!==Y),x,e.grid),f=JSON.stringify(l.shape)===JSON.stringify(x.shape),b=l.position.x!==c||l.position.y!==p||!f;g.success&&b&&(O(e=>[...e,m]),z(g.newPieces),D(e=>e+1),V(h(U,g.newPieces,e.coveredAllowedSymbolLimit))),q(null),J(null),G(0),ee(!1),en(null),ec(null),ex(0)},children:[(()=>{let l=[];for(let r=0;r<=e.width;r++)l.push((0,t.jsx)("div",{style:{position:"absolute",left:r*A,top:0,bottom:0,borderLeft:"1px solid var(--grid-line)"}},`v-${r}`));for(let r=0;r<=e.height;r++)l.push((0,t.jsx)("div",{style:{position:"absolute",top:r*A,left:0,right:0,borderTop:"1px solid var(--grid-line)"}},`h-${r}`));return l})(),(()=>{let l=[];for(let r=0;r<e.height;r++)for(let a=0;a<e.width;a++){let e=H[r]?.[a]||".",s=K.get(`${a},${r}`)||"",i="transparent",o="",n="none";"M"===e?(i="var(--color-region-sky)",n="2px solid rgba(0,0,0,0.1)"):"A"===e?(i="var(--color-region-grass)",n="2px solid rgba(0,0,0,0.1)"):"D"===e?(i="var(--color-region-lava)",n="2px solid rgba(0,0,0,0.1)"):"I"===e?(i="var(--color-region-wood)",n="2px solid rgba(0,0,0,0.1)"):"#"===e?(i="var(--color-wall)",o="repeating-linear-gradient(45deg, var(--color-wall-accent) 0, var(--color-wall-accent) 4px, var(--color-wall) 4px, var(--color-wall) 8px)"):"a"===e?(i="var(--color-region-grass)",o="repeating-linear-gradient(45deg, rgba(0,0,0,0.05) 0, rgba(0,0,0,0.05) 2px, transparent 2px, transparent 10px)",n="2px solid rgba(0,0,0,0.1)"):"d"===e&&(i="var(--color-region-lava)",o="repeating-linear-gradient(45deg, rgba(0,0,0,0.05) 0, rgba(0,0,0,0.05) 2px, transparent 2px, transparent 10px)",n="2px solid rgba(0,0,0,0.1)");let d=new Set(B.allowedStats.map(e=>e.emoji)).has(s),c=!1;for(let e of R)if(a>=e.position.x&&a<e.position.x+e.shape[0].length&&r>=e.position.y&&r<e.position.y+e.shape.length&&1===e.shape[r-e.position.y][a-e.position.x]){c=!0;break}let p=d&&c,x=B.violatingCells.some(e=>e.x===a&&e.y===r),h=ey.some(e=>e.x===a&&e.y===r);"."!==e&&l.push((0,t.jsxs)("div",{style:{position:"absolute",left:a*A,top:r*A,width:A,height:A,backgroundColor:i,backgroundImage:o,border:n,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-emoji), 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', sans-serif",zIndex:x||p?6:5*("#"===e),boxSizing:"border-box",boxShadow:"#"===e?"inset 2px 2px 0 rgba(255,255,255,0.1), inset -2px -2px 0 rgba(0,0,0,0.3)":"none",overflow:"hidden"},children:[x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full animate-ripple",style:{background:"radial-gradient(circle, transparent 20%, rgba(239,68,68,0.9) 40%, rgba(239,68,68,0) 70%)",animation:"ripple-red 1s ease-out 1 forwards"}})},`ripple-red-${$}`),(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-red-500/60 pointer-events-none z-10",style:{opacity:0,animation:"fadeIn 0.5s ease-out forwards, pulsate-red 2s infinite 0.5s"}})]}),p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full animate-ripple",style:{background:"radial-gradient(circle, transparent 20%, rgba(24, 216, 241, 0.9) 40%, rgba(24, 216, 241, 0) 70%)",animation:"ripple-blue 1s ease-out 1 forwards"}})},`ripple-blue-${$}`),(0,t.jsx)("div",{className:"absolute inset-0 border-2 pointer-events-none z-10",style:{borderColor:"rgba(24, 216, 241, 0.6)",opacity:0,animation:"fadeIn 0.5s ease-out forwards, pulsate-blue 2s infinite 0.5s"}})]}),(0,t.jsx)("span",{className:"relative z-0",children:s}),h&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:(0,t.jsx)("div",{className:"w-2 h-2 rounded-full animate-ripple",style:{background:"radial-gradient(circle, rgba(74,222,128,0.9) 0%, rgba(74,222,128,0) 70%)",animation:"ripple-green 0.6s ease-out 1 forwards"}})})]},`cell-${r}-${a}`))}return l})(),(()=>{let e=ef();if(!Y||!e)return null;let l=R.find(e=>e.id===Y);return l?(0,t.jsx)("div",{style:{pointerEvents:"none"},children:(0,t.jsx)(g.PieceRenderer,{piece:{...l,shape:e.finalShape,position:{x:e.gridX,y:e.gridY}},cellSize:A,style:{opacity:.4,zIndex:5,transition:"none",filter:"grayscale(1) brightness(1.5)"}})}):null})(),(u=new Set(B.allowedStats.map(e=>e.emoji)),E=x(U,"main-region").filter(e=>u.has(e.symbol)).map(e=>({x:e.x,y:e.y})),R.map(e=>{let l=e.id===Y;return(0,t.jsx)(g.PieceRenderer,{piece:l?{...e,shape:X||e.shape}:e,cellSize:A,isDragging:l,dragPosition:l?er:void 0,dragRotation:l?Z:0,dragFlipped:!!l&&Q,violatingCells:B.violatingCells,allowedCells:l?[]:E,moveId:$,onPointerDown:l?void 0:t=>((e,t)=>{if(e.stopPropagation(),e.preventDefault(),!M.current)return;let l=M.current.getBoundingClientRect(),r=e.clientX-l.left,a=e.clientY-l.top,s=t.position.x*A,i=t.position.y*A;q(t.id),J(t.shape),G(0),ee(!1),el({x:r-s,y:a-i}),ea({x:s,y:i}),e.target.setPointerCapture(e.pointerId)})(t,e),style:l?{zIndex:50}:void 0},e.id)}))]})}),(0,t.jsxs)("div",{className:`mt-4 flex items-center gap-2 transition-opacity relative z-30 ${Y?"opacity-100":"opacity-0 pointer-events-none"}`,children:[(0,t.jsxs)("button",{ref:eh,onClick:()=>Y&&G(e=>e+90),className:`relative overflow-hidden flex items-center gap-2 px-4 py-3 text-[var(--panel-text)] border-2 border-[var(--panel-border)] border-b-4 text-xs font-bold shadow-md transition-all ${"rotate"===eo?"bg-blue-200 border-blue-400":"bg-[var(--panel-bg)]"} md:pointer-events-none md:bg-[var(--panel-bg)] md:border-[var(--panel-border)]`,disabled:!Y,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-blue-400 opacity-30 transition-all md:hidden",style:{width:`${"rotate"===eo?100*ep:0}%`}}),(0,t.jsx)(N,{size:14,className:"relative z-10"}),(0,t.jsxs)("span",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"md:hidden",children:"Hover here to Rotate"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Rotate: R"})]})]}),(0,t.jsxs)("button",{ref:em,onClick:()=>Y&&ee(e=>!e),className:`relative overflow-hidden flex items-center gap-2 px-4 py-3 text-[var(--panel-text)] border-2 border-[var(--panel-border)] border-b-4 text-xs font-bold shadow-md transition-all ${"flip"===eo?"bg-purple-200 border-purple-400":"bg-[var(--panel-bg)]"} md:pointer-events-none md:bg-[var(--panel-bg)] md:border-[var(--panel-border)]`,disabled:!Y,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-purple-400 opacity-30 transition-all md:hidden",style:{width:`${"flip"===eo?100*ep:0}%`}}),(0,t.jsx)(S,{size:14,className:"relative z-10"}),(0,t.jsxs)("span",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"md:hidden",children:"Hover here to Flip"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"Flip: F"})]})]})]}),(0,t.jsx)(y,{isOpen:W,score:T||0,hasNextLevel:m,onNextLevel:r,onReplay:n,onBackToLevels:c,onClose:()=>F(!1)})]})},M=(0,f.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),_=(0,f.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);function C(){let[e,r]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{r(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===e||!e&&t?(s(!0),document.documentElement.classList.add("dark")):(s(!1),document.documentElement.classList.remove("dark"))},[]),e)?(0,t.jsx)("button",{onClick:()=>{a?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),s(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),s(!0))},className:`
                flex items-center gap-2 px-4 py-3 
                border-b-4 active:border-b-0 active:translate-y-1 
                font-bold text-xs uppercase shadow-md transition-all
                ${a?"bg-gray-800 text-white hover:bg-gray-700 border-gray-950":"bg-gray-200 text-gray-900 hover:bg-gray-300 border-gray-400"}
            `,"aria-label":"Toggle theme",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,{size:16})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"Dark"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{size:16})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"Light"})]})}):(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 border-b-4 border-gray-400 dark:border-gray-950 bg-gray-200 dark:bg-gray-800 opacity-50 cursor-default font-bold text-xs uppercase shadow-md text-gray-900 dark:text-white",children:[(0,t.jsx)(_,{size:16,className:"text-gray-900 dark:text-white"})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"Light"})]})}var A=e.i(63641),R=e.i(78613);let z=(0,f.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),I=(0,f.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),O="masqagrid_progress";function $(){let[e,a]=(0,l.useState)(null),[s,i]=(0,l.useState)(0),[o,n]=(0,l.useState)({unlockedLevels:[A.LEVELS[0].id],completedLevels:[],highScores:{}}),[d,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem(O);if(e)try{let t=JSON.parse(e);n(e=>({...e,...t,highScores:t.highScores||{}}))}catch(e){console.error("Failed to parse saved progress:",e)}c(!0)},[]),(0,l.useEffect)(()=>{d&&localStorage.setItem(O,JSON.stringify(o))},[o,d]);let p=e?(0,A.getLevelById)(e):null,x=p||A.DEFAULT_LEVEL.level,h=e?A.LEVELS.findIndex(t=>t.id===e):-1,m=h<A.LEVELS.length-1,g=()=>{a(null),i(0)};return e?(0,t.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-[var(--background)] transition-colors duration-300",children:[(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,t.jsx)(C,{})}),(0,t.jsxs)("button",{onClick:g,className:"fixed top-4 left-4 z-50 flex items-center gap-2 px-4 py-3 bg-[var(--panel-bg)] border-4 border-[var(--panel-border)] shadow-[4px_4px_0_0_rgba(0,0,0,0.2)] hover:shadow-[6px_6px_0_0_rgba(0,0,0,0.3)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-[var(--panel-text)] font-bold text-xs uppercase",style:{fontFamily:"var(--font-pixel)"},children:[(0,t.jsx)(R.ArrowLeft,{size:16}),"Levels"]}),(0,t.jsx)("div",{className:"text-center mb-6 px-4",children:(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[var(--foreground)] mb-2",style:{fontFamily:"var(--font-pixel)"},children:p?.name||"Masqagrid"})}),(0,t.jsx)(E,{level:x,onNextLevel:()=>{m&&a(A.LEVELS[h+1].id)},onReplay:()=>{i(e=>e+1)},onBackToLevels:g,onLevelComplete:e?t=>{n(l=>{let r={...l};r.completedLevels.includes(e)||r.completedLevels.push(e),r.highScores||(r.highScores={}),t>(r.highScores[e]||-1)&&(r.highScores[e]=t);let a=A.LEVELS.findIndex(t=>t.id===e);if(a<A.LEVELS.length-1){let e=A.LEVELS[a+1].id;r.unlockedLevels.includes(e)||r.unlockedLevels.push(e)}return r})}:void 0,hasNextLevel:m,highScore:e?o.highScores[e]:void 0},`${e}-${s}`)]}):(0,t.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center p-8 bg-[var(--background)] transition-colors duration-300",children:[(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,t.jsx)(C,{})}),(0,t.jsxs)("div",{className:"fixed bottom-4 left-4 md:top-4 md:right-4 md:bottom-auto md:left-auto z-50 flex flex-row md:flex-col gap-2 md:items-end",children:[(0,t.jsxs)(r.default,{href:"/about",className:"flex items-center gap-2 px-4 md:px-3 py-3 md:py-2 bg-[var(--panel-bg)] border-2 border-[var(--panel-border)] shadow-[2px_2px_0_0_rgba(0,0,0,0.2)] hover:shadow-[3px_3px_0_0_rgba(0,0,0,0.3)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-[var(--panel-text)] font-bold text-xs",style:{fontFamily:"var(--font-pixel)"},children:[(0,t.jsx)(I,{size:16,className:"md:w-3.5 md:h-3.5"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"ABOUT US"})]}),(0,t.jsxs)("button",{onClick:()=>{n({unlockedLevels:A.LEVELS.map(e=>e.id),completedLevels:[],highScores:o.highScores||{}})},className:"flex items-center gap-2 px-4 md:px-3 py-3 md:py-2 bg-gray-300 border-2 border-gray-400 shadow-[2px_2px_0_0_rgba(0,0,0,0.2)] hover:shadow-[3px_3px_0_0_rgba(0,0,0,0.3)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-white font-bold text-xs",style:{fontFamily:"var(--font-pixel)"},children:[(0,t.jsx)(z,{size:16,className:"md:w-3.5 md:h-3.5"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"UNLOCK ALL"})]}),(0,t.jsxs)("button",{onClick:()=>{if(confirm("Are you sure you want to reset all progress? This will lock all levels except the first one.")){let e={unlockedLevels:[A.LEVELS[0].id],completedLevels:[],highScores:{}};n(e),localStorage.setItem(O,JSON.stringify(e))}},className:"flex items-center gap-2 px-4 md:px-3 py-3 md:py-2 bg-red-400 border-2 border-red-600 shadow-[2px_2px_0_0_rgba(0,0,0,0.2)] hover:shadow-[3px_3px_0_0_rgba(0,0,0,0.3)] active:shadow-none active:translate-x-1 active:translate-y-1 transition-all text-white font-bold text-xs",style:{fontFamily:"var(--font-pixel)"},children:[(0,t.jsx)(v,{size:16,className:"md:w-3.5 md:h-3.5"}),(0,t.jsx)("span",{className:"hidden md:inline",children:"RESET"})]})]}),(0,t.jsxs)("div",{className:"text-center mb-12 px-4",children:[(0,t.jsx)("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-[var(--foreground)] mb-4 tracking-tight",style:{fontFamily:"var(--font-pixel)"},children:"MASQAGRID"}),(0,t.jsx)("p",{className:"text-lg text-[var(--foreground)] opacity-70 max-w-md mx-auto"})]}),(0,t.jsxs)("div",{className:"max-w-4xl w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-[var(--foreground)] opacity-70 mb-6 text-center uppercase",style:{fontFamily:"var(--font-pixel)"},children:"Select Level"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:A.LEVELS.map((e,l)=>{let r=o.unlockedLevels.includes(e.id),s=o.completedLevels.includes(e.id);return(0,t.jsxs)("button",{onClick:()=>r&&void(a(e.id),i(0)),disabled:!r,className:`group relative border-4 shadow-[4px_4px_0_0_rgba(0,0,0,0.2)] transition-all p-5 flex flex-col items-center gap-1 ${r?"bg-[var(--panel-bg)] border-[var(--panel-border)] hover:shadow-[6px_6px_0_0_rgba(0,0,0,0.3)] active:shadow-none active:translate-x-1 active:translate-y-1 cursor-pointer":"bg-gray-300 border-gray-500 opacity-50 cursor-not-allowed"}`,children:[s&&(0,t.jsx)("div",{className:"absolute -top-2 -right-2 bg-green-500 border-2 border-green-700 rounded-full w-6 h-6 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-xs font-bold",children:"âœ“"})}),(0,t.jsx)("div",{className:"text-2xl font-bold text-[var(--panel-text)]",style:{fontFamily:"var(--font-pixel)"},children:l+1}),(0,t.jsx)("div",{className:"h-8 flex items-center justify-center text-xs font-bold text-[var(--panel-text)] uppercase text-center leading-tight",style:{fontFamily:"var(--font-pixel)"},children:e.name}),(0,t.jsx)("div",{className:"h-6 flex items-center justify-center",children:s&&o.highScores?.[e.id]!==void 0?(0,t.jsxs)("div",{className:"px-2 py-0.5 bg-yellow-100 border-2 border-yellow-400 text-yellow-800 text-[10px] font-bold uppercase rounded-sm",children:["Best: ",o.highScores[e.id]]}):(0,t.jsx)("div",{className:"h-full"})})]},e.id)})})]})]})}e.s(["default",()=>$],31713)}]);